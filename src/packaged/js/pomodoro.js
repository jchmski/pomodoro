"use strict";window.addEventListener("DOMContentLoaded",function(){var i,a=!1,c=!1,n=document.querySelector(".timer_button > a"),o=document.querySelectorAll(".timer_links a"),r=document.querySelectorAll(".timers > div");function u(){window.clearInterval(i),c=!1,s("start")}function l(){document.title="Pomodoro",r.forEach(function(t){t.removeAttribute("data-time-left"),t.textContent=t.getAttribute("data-orig")}),window.clearInterval(i),c=a=!1,s("start")}function s(t){if("start"===t){var e=a?"resume timer":"start timer";n.classList.remove("running"),n.textContent=e}else"pause"===t&&(n.classList.add("running"),n.textContent="pause timer")}function d(){document.querySelectorAll("audio")[0].play()}document.querySelectorAll(".what, .test-audio, .close-modal").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault()})}),o.forEach(function(t){t.addEventListener("click",function(t){if(t.preventDefault(),l(),!c){r.forEach(function(t){t.getAttribute("data-time-left")<1&&l()}),o.forEach(function(t){t.classList.remove("selected")});var e=t.target;e.classList.add("selected");var n=document.querySelector("."+e.getAttribute("rel"));r.forEach(function(t){t===n?t.classList.add("active"):t.classList.remove("active")})}})}),n.addEventListener("click",function(t){if(t.preventDefault(),c)u();else{var e=null;r.forEach(function(t){t.classList.contains("active")&&(e=t)}),function(t,e){var n,o,r=t;i=setInterval(function(){n=parseInt(r/60,10),o=(o=parseInt(r%60,10))<10?"0"+o:o,document.title=n+":"+o+" - Pomodoro",e.textContent=n+":"+o,e.setAttribute("data-time-left",r),--r<0&&(l(),d(),document.querySelector(".timer").classList.add("shaking"),setTimeout(function(){document.querySelector(".timer").classList.remove("shaking")},684))},1e3),c=a=!0,s("pause")}(0<e.getAttribute("data-time-left")?e.getAttribute("data-time-left"):(l(),e.getAttribute("data-time")-1),e)}}),document.querySelector(".reset > a").addEventListener("click",function(t){t.preventDefault(),u(),l()}),document.querySelectorAll(".what, .md-overlay, .close-modal").forEach(function(t){t.addEventListener("click",function(){document.querySelector(".what-modal").classList.toggle("md-show")})}),document.querySelector(".test-audio").addEventListener("click",function(){d()})});