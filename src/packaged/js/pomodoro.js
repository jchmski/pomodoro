"use strict";window.addEventListener("DOMContentLoaded",function(){var a,r=!1,c=!1,n=document.querySelector(".timer-button > a"),i=document.querySelectorAll(".timer-options a"),o=document.querySelectorAll(".timer > div");document.querySelectorAll(".what, .test-audio, .close-modal").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault()})}),i.forEach(function(t){t.addEventListener("click",function(t){if(t.preventDefault(),s(),!c){o.forEach(function(t){t.getAttribute("data-time-left")<1&&s()}),i.forEach(function(t){t.classList.remove("selected")});var e=t.target;e.classList.add("selected");var n=document.querySelector("."+e.getAttribute("rel"));o.forEach(function(t){t===n?t.classList.add("active"):t.classList.remove("active")})}})}),n.addEventListener("click",function(t){if(t.preventDefault(),c)l();else{var e,n=null;o.forEach(function(t){t.classList.contains("active")&&(n=t)}),e=0<n.getAttribute("data-time-left")?n.getAttribute("data-time-left"):(s(),n.getAttribute("data-time")-1),u(e,n)}}),document.querySelector(".reset > a").addEventListener("click",function(t){t.preventDefault(),l(),s()}),document.querySelectorAll(".what, .md-overlay, .close-modal").forEach(function(t){t.addEventListener("click",function(){document.querySelector(".what-modal").classList.toggle("md-show")})}),document.querySelector(".test-audio").addEventListener("click",function(){f()});var u=function(t,e){var n,i,o=t;a=setInterval(function(){n=parseInt(o/60,10),i=(i=parseInt(o%60,10))<10?"0"+i:i,document.title=n+":"+i+" - Pomodoro",e.textContent=n+":"+i,e.setAttribute("data-time-left",o),--o<0&&(s(),f(),document.querySelector(".timer > div.active").classList.add("shaking"),setTimeout(function(){document.querySelector(".timer > div.active").classList.add("shaking")},684))},1e3),c=r=!0,d("pause")},l=function(){window.clearInterval(a),c=!1,d("start")},s=function(){document.title="Pomodoro",o.forEach(function(t){t.removeAttribute("data-time-left"),t.textContent=t.getAttribute("data-orig")}),window.clearInterval(a),c=r=!1,d("start")},d=function(t){if("start"===t){var e=r?"resume timer":"start timer";n.classList.remove("running"),n.textContent=e}else"pause"===t&&(n.classList.add("running"),n.textContent="pause timer")},f=function(){document.querySelectorAll("audio")[0].play()}});