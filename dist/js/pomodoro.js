"use strict";var activeTimer,timerStarted=!1,timerRunning=!1;function startTimer(t,e){var i,r,a=t;activeTimer=setInterval(function(){i=parseInt(a/60,10),r=(r=parseInt(a%60,10))<10?"0"+r:r,document.title="Pomodoro ("+i+":"+r+")",e.text(i+":"+r),e.attr("data-time-left",a),--a<0&&(resetTimers(),ding(),document.querySelector(".timer").classList.add("shaking"),setTimeout(function(){document.querySelector(".timer").classList.remove("shaking")},684))},1e3),timerRunning=timerStarted=!0,showButton("pause")}function pauseTimer(){window.clearInterval(activeTimer),timerRunning=!1,showButton("start")}function resetTimers(){$(".timer > div").each(function(){$(this).removeAttr("data-time-left").text($(this).attr("data-orig"))}),window.clearInterval(activeTimer),timerRunning=timerStarted=!1,showButton("start")}function showButton(t){if("start"===t){var e=timerStarted?"resume timer":"start timer";$(".timer_button > a").removeClass("running").text(e)}else"pause"===t&&$(".timer_button > a").addClass("running").text("pause timer")}function ding(){$("audio")[0].play()}$(document).ready(function(){$(".what, .test-audio, .close-modal").on("click",function(t){t.preventDefault()}),$(".timers a").on("click",function(t){if(t.preventDefault(),resetTimers(),!timerRunning){$(".timer > div").each(function(){$(this).attr("data-time-left")<1&&resetTimers()}),$(".timers a").removeClass("selected");var e=$(t.target);e.addClass("selected");var i="."+e.attr("rel");$(".timer > div").hide(),$(i).show()}}),$(".timer_button > a").on("click",function(t){if(t.preventDefault(),timerRunning)pauseTimer();else{var e=$(".timer > div").filter(":visible");startTimer(0<e.attr("data-time-left")?e.attr("data-time-left"):(resetTimers(),e.attr("data-time")-1),e)}}),$(".reset > a").on("click",function(t){t.preventDefault(),pauseTimer(),resetTimers()}),$(".what, .md-overlay, .close-modal").on("click",function(){$(".what-modal").toggleClass("md-show")}),$(".test-audio").on("click",function(){ding()})});